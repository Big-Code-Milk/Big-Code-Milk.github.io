# 09:10

今日又推了弟弟一把，搞半天才說服他起床做事，

感覺跟我大學時期差太多了，感覺是危機感太低，

有好有壞吧，至少他是把壓力轉移了他自己就不會負擔太大，

但感覺還是要向 low dan 講的在能拚的時候盡量拚，

避免不能拚的時候也沒機會讓你拚...

---

接續前日工作

## 09:50

PAM 沒有完整的 C U D 功能 可參考 要回 Portal 找

```javascript
<app-sign-header
[signFormName]="'AccountPermission.title' | translate "
[ApplicationCategory]='ApplicationCategory'
[signFormID]='signFromID'
(outputEdit)='edit()'
(outputSend)='send($event)'
(outputSave)='Save($event)'
[isEdit]='true'>
</app-sign-header>
```

sign-header-component 蠻複雜的寫了超多類似回呼傳事件的東西...

目前判斷應該是從上面 header 這邊去找而不是看完整個 header 在幹嘛

---

* 樣板字面值 巢狀樣板

> const url = `${this.baseUrl}/Create`;

<https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Template_literals>

* vs code 錯誤顏色更改

<http://hk.uwenku.com/question/p-ovasndvq-bmn.html>

---

## 11:07

```javascript
[ExposeWebAPI(true)]
        public PageQueryResult<string> Create(SignData<List<PAMAccountChange>> Data)
        {
            Data.Sign.ApplicanterEmpNO = UserInfo.Account;
            Data.Sign.FillerEmpNO = UserInfo.Account;

            var signer = new Signer();
            signer.CaseOfficerCosign.Add("00011");
            signer.CaseOfficerMgrCosign.Add("00010");
            return Repository.Create(Data, UserInfo.Account, HrMasterService, BPMService, signer);
        }
```

`Repository.Create(Data, UserInfo.Account, HrMasterService, BPMService, signer);`

會先往共用的 sign form，接著只要資料塞對就會往自己的 Repository 跑

SignRepository.cs line 487

`Repository.Create(Data.FormData, SIGN.SIGN_FORM_ID, IsNew);`

---

讀寫作 2 個方向資料庫 - model (automap)

---

盡量 Account_ID 、 Function_Type 都要關連到

---

* 昨日 oracle 關聯錯誤是因為 關聯名稱要唯一值

ER 圖右鍵自動排列儲存即可

---

## 11:30

要改的部分

申請人(各自的表)不是填表人(header)

---

* PRIME 黑科技 new Date() 可以自動將 oracle 轉化成 js 能用的資料，然後再藉由 calendar dateFormat 就很輕鬆搞定

`this.items.DisabledDate = new Date(EF.DisabledDate), // 停用及設備繳回日期 EF.DisabledDate`

`<p-calendar dateFormat="yy/mm/dd" [(ngModel)]="items.DisabledDate"></p-calendar>`

固定 yy/mm/dd

---

先做儲存即可

---

* 錯誤代碼佈景主題更改

<https://jiepeng.me/2018/05/30/customizations-vscode-theme>