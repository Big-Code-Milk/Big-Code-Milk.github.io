# 9:00

昨日進度

看了 Database first / Model first / Code first 的概念區別，但實際應用還不確定

---

angular 轉址

```Javascript
this.router.navigateByUrl(
    '/pages/ApplyFormQuery',
        { skipLocationChange: true }).then(
            () =>this.router.navigate(
                ['/pages/ApplyFormQuery', this.signFromID]
));
```

---

前端吃到後端 fasle 會以 "false" 判別，就會直接以為是 true 通過判別

## 10:45

一堆... 然後還要考試 ???!

---

晚點補 十點開會內容

---

* DB 不管哪種都需要有 PK 不然沒有辦法 EF 實體出來

* oracle date

select sysdate from dual;
2020-07-30 06:02:01

* Linq 內計算時間

EntityFunctions.DiffDays(DateTime.Now, x.ACCOUNT_CLOSE_DATE) <= 7 &&
EntityFunctions.DiffDays(DateTime.Now, x.ACCOUNT_CLOSE_DATE) >= 0

* 要補 web api 標籤才能被存取

[ExposeWebAPI(true)]
[EnabledAnonymous(true)]

---

## 又出現新問題所以直接先把十點紀錄連同現在新問題紀錄

新任務 113 , 115

PAM 帳號 (只會產單)

SAM 軟體 API 要 ?

跨系統 給外部用 External PAM

Portal 藥用

---

SAM Reposi...cs

RepositoryBase 內注入

PAMRepository.cs

跨系統 Query

---

SWApplyForm 配置子單

SAM 啟承辦人

組 Create 流程單

---

Portal Apply =>

PAM External Service ok => 回傳單號至

Portal SignFormReturn Table

跨系統關聯

202 ?

---

按鈕先跳過

---

異動麻煩 API 103,104

PAM 取 Account ? 假資料 Query 出來

---

新任務 ? 801-802-803 要從 Portal 搬到 PAM 舜博有空可能會搬

---

401 / 405 / 411

描述細一點 , 資料來源 , 對客戶 ?

---

AF 手動啟單沒 APPLICANTER_ENP_NO

FORM_STATUS 傳入 SIGN_FORM_MAIN 時還是 Draft 導致沒有 SIGN_FORM_NO

... 聽完就是有點霧傻傻

流程 簽核 關卡 ???

然後還沒清楚的相關文件，只靠主管跟同事的大腦跟自己看程式碼...

![alt](/sinda-notes/img/PERMISSION.png)

---

* oracle id bug

Entities.PAM_AF_DISABLED_DETAIL.Select(y => y.ID).DefaultIfEmpty(0).Max() + 1;

避免刪除時撈出 null + 1 報錯

* foreach 最好不用要 lamda 比較好 debug